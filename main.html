<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>drag and drop</title>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
      <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
      <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
      <style>
        body{
            background-color: black;

        }
        main{
            margin: 4%;
            display: flex;
            gap: 20px;
        }
        .list{
            width: 200px;
            border: 1px solid black;
            border-radius: 10px;
            background-color: grey;

        }
        .item{
            margin: 8px;
            border: 1px solid black;
            border-radius: 10px;
            background-color: white;
        }
        .item:hover{
            cursor: pointer;
        }
        main .item:active{
            border: 1px solid purple;
            
        }
      </style>
</head>
<body>


    <div id="root"></div>
    


    <script type="text/babel">



            document.addEventListener('mousemove', function(event) {
                const x = event.clientX;
                const y = event.clientY;

                document.querySelectorAll(".item").forEach(item => {
                    item.style.setProperty('--cursor-top', `${y}px`);
                    item.style.setProperty('--cursor-left', `${x}px`);
                });

                console.log("held: ", held)

            });


        function List(){
            const [list, setList] = React.useState([
                "you",
                "are",
                "the",
                "best",
                "person",
                "i know",
            ])
            const clonedList = [...list]
            let held, entered;
            return(
                <div class="list">
                    {list.map((item, index) => 
                        <div class="item" draggable
                        onDragStart={() => {
                            held = index
                        }}
                        onDragEnter={() => {entered = index}}
                        onDragEnd={() => {
                            console.log("on drag")
                            if (held == null){
                                return
                            }


                            const temp = clonedList[entered];
                            clonedList[entered] = clonedList[held];
                            clonedList[held] = temp;
                            console.log("clonedList:", clonedList)
                            setList(clonedList)
                        }}
                        > 
                            <h3>issue: {item}</h3>
                            <input type="text"/>
                            <button>comment</button>
                        </div>
                    )}                    
                </div>
            )
        }

        function App(){
            return (
                <main>
                    <List/> 
                    <List/> 
                    <List/> 
                    <List/> 
                </main>
                )
        }



     ReactDOM.render(<App />, document.querySelector('#root'));
    </script>
</body>
</html>